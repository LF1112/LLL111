<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>问题</title>
    <script>
        
        class Person {
            constructor(name,age){
                this.name = name
                this.age = age
            }
        }

        const personArr =[
        new Person("孙悟空",18),
        new Person("沙和尚",38),
        new Person("红孩儿",8),
       ]
    
    //filter()函数用来对数组进行过滤

    /*
      目前我们的函数只能过滤出数组中age属性小于18的对象
      我们希望过滤更加灵活:
        比如:过滤数组中age大于18的对象
                      age大于60的对象
                      age大于n的对象
          过滤数组中name为xxx的对象
          过滤数组中的偶数
          ...
      重点在if中的语句
      arr[i].age>= 18
      arr[i].age >60
      arr[i].age >n
      arr[i].name:=== "XXX"
      arr[i]%2===0

      变量是不能存语句，但变量能存函数，函数能存语句
      所以将语句存到函数里，将函数作为参数传递变量里
      一个函数的参数也可以是函数，如果将函数作为参数，那么我们称这个函数叫回调函数（callback）
      定义了一个函数，没调用它但是执行了，因为在另一个函数中调了
    */
    function filter(arr,cb){
        //此时再创建一个新的数组将符合条件的放入新数组中
        const newArr=[]
        for(let i=0; i<arr.length; i++){
        if(cb(arr[i])){//将这里的代码封装在fn函数中
            //console.log(arr[i])
            newArr.push(arr[i])
          }
        }
      return newArr
    }
    //fn中虽然没有有arr等参数，但其本身是函数，可以传递参数
    function fn(a){
        return a.age<18
    }
   //filter(personArr)此时没有任何打印而是返回一个结果
   const result=filter(personArr,fn)
   console.log(result)

    </script>
</head>
<body>
    
</body>
</html>